[{"title":"hexoåšå®¢æ­å»ºè¿‡ç¨‹è®°å½•","date":"2018-11-16T03:29:00.000Z","path":"2018/11/16/hexoåšå®¢æ­å»ºè¿‡ç¨‹è®°å½•/","text":"ä»¥å‰ä¸€ç›´ç”¨çš„github.ioæ­çš„è‡ªå·±çš„åšå®¢ï¼Œæ€»è§‰å¾—å·®ç‚¹æ„æ€ï¼Œè¿˜æ˜¯è‡ªå·±æ•´ä¸ªæœåŠ¡å™¨å§ï¼Œä»¥ä¸‹æ˜¯åœ¨é˜¿é‡Œäº‘centos7ä¸‹å®Œæˆçš„ï¼Œè®°å½•ä¸€ä¸‹ã€‚ Nodeç¯å¢ƒä¸Gitå®‰è£…hexoåŸºäºnodeJsï¼Œæ‰€ä»¥é¦–å…ˆè¦å®‰è£…node å®‰è£…1234cd /usr/local/src/wget https://nodejs.org/dist/v10.13.0/node-v10.13.0-linux-x64.tar.xztar -xvf node-v10.13.0-linux-x64.tar.xzmv node-v10.13.0-linux-x64 nodejs å¯ä»¥åˆ°https://nodejs.org/en/download/ä¸‹è½½éœ€è¦çš„nodeç‰ˆæœ¬ï¼Œå¦‚æœä¸‹è½½sourceCodeæºç ç‰ˆæœ¬ï¼Œéœ€è¦è‡ªå·±ç¼–è¯‘å¾ˆé•¿æ—¶é—´ï¼Œä¸æ¨èï¼Œæˆ‘ä¸‹è½½çš„Linux Binaries (x64) æŸ¥çœ‹ nodejsæ–‡ä»¶å¤¹ ä¸‹æœ‰æ˜¯å¦æœ‰node å’Œnpmæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰é‡æ–°ä¸‹è½½å®‰è£…ã€‚ å»ºç«‹è½¯é“¾æ¥å°†npmå’Œnodeå‘½ä»¤è½¬ä¸ºå…¨å±€å‘½ä»¤ 12ln -s /usr/local/src/nodejs/bin/npm /usr/local/bin/npmln -s /usr/local/src/nodejs/bin/node /usr/local/bin/node æ£€éªŒnodeæ˜¯å¦å·²å…¨å±€å¯ç”¨1node -v cnpmå¦‚æœæƒ³ä½¿ç”¨cnpm å¯ä»¥å…¨å±€å®‰è£…åï¼Œå»ºç«‹è½¯é“¾æ¥ï¼ŒåŒ2ï¼Œä¸å†èµ˜è¿° gitå®‰è£…12yum -y install gitgit --version hexoå®‰è£…å…¨å±€å®‰è£…hexo1npm install -g hexo-cli åˆå§‹åŒ–hexoé¡¹ç›®è¿›å…¥hexoé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œæˆ‘çš„æ˜¯åœ¨/home/apps/ 1234cd /home/apps/hexo init hexoblogcd hexoblognpm i å®‰è£…å®Œæˆåç›®å½•å¦‚ä¸‹ node_modulesï¼šæ˜¯ä¾èµ–åŒ… publicï¼šå­˜æ”¾çš„æ˜¯ç”Ÿæˆçš„é¡µé¢ scaffoldsï¼šå‘½ä»¤ç”Ÿæˆæ–‡ç« ç­‰çš„æ¨¡æ¿ sourceï¼šç”¨å‘½ä»¤åˆ›å»ºçš„å„ç§æ–‡ç«  themesï¼šä¸»é¢˜ _config.ymlï¼šæ•´ä¸ªåšå®¢çš„é…ç½® db.jsonï¼šsourceè§£ææ‰€å¾—åˆ°çš„ package.jsonï¼šé¡¹ç›®æ‰€éœ€æ¨¡å—é¡¹ç›®çš„é…ç½®ä¿¡æ¯ é…ç½® ç½‘ç«™çš„åˆå§‹é…ç½®éƒ½åœ¨_config.ymlä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­ä¿®æ”¹å¤§éƒ¨åˆ†é…ç½®ã€‚ å…·ä½“é…ç½®è§ hexoå®˜ç½‘ å¯åŠ¨å®‰è£…å®Œæˆåï¼Œhollow world ç»ˆäºå¯ä»¥æ‰“å¼€äº† 123cd /home/apps/hexobloghexo shexo g -d ç°åœ¨æ‰“å¼€æœåŠ¡å™¨ip 4000 ç«¯å£å³å¯çœ‹åˆ°Hellow world é¡µé¢å•¦ 2018-11-15-hexoåšå®¢æ­å»ºè¿‡ç¨‹è®°å½•-20181115 ä¸»é¢˜çš„ä½¿ç”¨hexoå®‰è£…å®Œæˆååˆ‡æ¢ä¸»é¢˜æå…¶ç®€å•ï¼Œæˆ‘ç°åœ¨ç”¨çš„æ˜¯Material Design é£æ ¼çš„Hexoä¸»é¢˜ indigo ,æ›´å¤šä¸»é¢˜å¯ä»¥åœ¨ å®˜ç½‘ æŸ¥çœ‹ï¼Œé€‰æ‹©ä½ å¿ƒä»ªçš„ä¸»é¢˜å³å¯ï¼Œäº¦å¯è‡ªå·±å¼€å‘DIYã€‚ åˆ«å¿˜äº†ç»™ä½œè€…startå“¦ 12cd /home/apps/hexoblog/git clone https://github.com/yscoder/hexo-theme-indigo.git themes/indigo ç„¶åå°†_config.ymlä¸­ theme é€‰é¡¹è®¾ä¸º indigo å³å¯ æ­¤ä¸»é¢˜éœ€è¦å®‰è£…ä¾èµ–ï¼Œå…·ä½“æ­¥éª¤æŸ¥çœ‹ä½œè€…æ–‡æ¡£ æ–‡æ¡£ hexoç®¡ç†å·¥å…·å¦‚æœæˆ‘ä»¬æ¯æ¬¡å†™å®Œéƒ½è¦æŠŠæ–‡ä»¶ä¼ åˆ°æœåŠ¡å™¨ï¼Œå† hexo g -d,é‚£å²‚ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ¥å—ï¼Œä¸è¿‡hexo-adminå¯ä»¥æ›´æ–¹ä¾¿çš„ç®¡ç†ä½ çš„åšæ–‡ï¼Œæ˜¯ä½ åœ¨éšä¾¿ä¸€ä¸ªæµè§ˆå™¨å³å¯å†™ä½œï¼Œç¾æ»‹æ»‹ çœ‹è¿™é‡Œå³å¯ï¼Œä½¿ç”¨æå…¶ç®€å• hexo-admin ##ç»“æŸ å¦‚æœä¸å‡ºæ„å¤–ï¼Œç°åœ¨ä½ å·²ç»å¯ä»¥å†™æ–‡ç« äº†ï¼Œå…·ä½“çš„æ–‡ç« å†™ä½œå’ŒåŠ è½½ï¼Œè¯·ç›´æ¥çœ‹å®˜ç½‘å§ã€‚æœ‰å•¥æ„å¤–å¯ä»¥é—®æˆ‘ğŸ˜€ğŸ˜€ğŸ˜€","tags":[{"name":"hexo","slug":"hexo","permalink":"http://yoursite.com/tags/hexo/"},{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"}]},{"title":"centosä¸‹nginxçš„å®‰è£…ä¸è‡ªå¯","date":"2018-11-16T03:28:00.000Z","path":"2018/11/16/centosä¸‹nginxçš„å®‰è£…ä¸è‡ªå¯/","text":"è€æ—©å°±æƒ³ä¹°ä¸ªæœåŠ¡å™¨ï¼Œå¯æƒœå›Šä¸­ç¾æ¶©ï¼Œä¸€ç›´æ²¡æœ‰ä¸‹æ‰‹ï¼Œå‰ä¸¤å¤©é€›é˜¿é‡Œäº‘çœ‹è§ä¸ªäº‘ç¿¼è®¡åˆ’ï¼Œèµ¶ç´§è¸©ç€é’æ˜¥çš„å°¾å·´ä¹°äº†ä¸€å¹´ECSè‡ªå·±æ²¡äº‹è€è€ä¹Ÿæ˜¯å¥½çš„å‘€ é˜¿é‡Œäº‘ç¿¼è®¡åˆ’ åºŸè¯ä¸å¤šè¯´ï¼Œè¿™å°±å¼€å§‹ å‡†å¤‡å·¥ä½œ æœåŠ¡å™¨ä¸€å° æˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘centos7 xshell å…¶å®ƒäº¦å¯ linuxåŸºæœ¬æ“ä½œ nginxå’Œé…ç½®æˆ‘ä»¬ä¸€ä¼šè¿˜è¦å®‰è£…nodeï¼Œnodeè‡ªå·±æœ¬èº«å¯ä»¥ä½œä¸ºæœåŠ¡å™¨è¿›è¡Œé©±åŠ¨ï¼Œä½†æ˜¯nodeæœ¬èº«å¯¹æ–‡ä»¶çš„å¤„ç†èƒ½åŠ›å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸­åº”å°½é‡ä½¿ç”¨nginxæ¥å¤„ç†é™æ€çš„èµ„æºä»¥åŠåå‘ä»£ç†ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†nodeåˆ†å¸ƒå¼ä»¥åŠè´Ÿè½½å‡è¡¡çš„ç›¸å…³é—®é¢˜ã€‚ å®‰è£… é¦–å…ˆå®‰è£…make gccä¹‹ç±»çš„ä¸œè¥¿ï¼Œç¼–è¯‘ç”¨ 12yum -y install automake autoconf libtool makeyum install gcc gcc-c++ é€‰æ‹©nginxå®‰è£…ç›®å½•ï¼Œæˆ‘é€‰çš„æ˜¯ /usr/local/src 1cd /usr/local/src ä¸€èˆ¬æˆ‘ä»¬éƒ½éœ€è¦å…ˆè£…pcre, zlibï¼Œå‰è€…ä¸ºäº†é‡å†™rewriteï¼Œåè€…ä¸ºäº†gzipå‹ç¼©ã€‚ 123456wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.42.tar.gztar -zxvf pcre-8.42.tar.gzcd pcre-8.42./configuremakemake install å¯ä»¥åœ¨ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/é€‰æ‹©æœ€æ–°ç‰ˆæœ¬pcre 123456wget http://zlib.net/zlib-1.2.11.tar.gztar -zxvf zlib-1.2.11.tar.gzcd zlib-1.2.11./configuremakemake install å¯ä»¥åœ¨http://zlib.net/é€‰æ‹©æœ€æ–°ç‰ˆæœ¬zlib å®‰è£…sslç½‘ç»œé€šä¿¡å®‰å…¨ï¼ŒåŠŸèƒ½ä¸°å¯Œä¸”è‡ªåŒ…å«çš„å¼€æºå®‰å…¨å·¥å…·ç®±12wget https://www.openssl.org/source/openssl-1.1.1.tar.gztar -zxvf openssl-1.1.1.tar.gz å¯ä»¥åœ¨https://www.openssl.org/source/é€‰æ‹©æœ€æ–°ç‰ˆæœ¬openssl å®‰è£…nginx Nginx ä¸€èˆ¬æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯ç¨³å®šç‰ˆå’Œå¼€å‘ç‰ˆï¼Œæ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„ç›®çš„æ¥é€‰æ‹©è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„å…¶ä¸­ä¸€ä¸ªï¼Œä¸‹é¢æ˜¯æŠŠ Nginx å®‰è£…åˆ° /usr/local/nginx ç›®å½•ä¸‹çš„è¯¦ç»†æ­¥éª¤ï¼š1234567891011121314wget http://nginx.org/download/nginx-1.4.2.tar.gztar -zxvf nginx-1.4.2.tar.gzcd nginx-1.4.2 ./configure --sbin-path=/usr/local/nginx/nginx \\--conf-path=/usr/local/nginx/nginx.conf \\--pid-path=/usr/local/nginx/nginx.pid \\--with-http_ssl_module \\--with-pcre=/usr/src/local/pcre-8.42 \\--with-zlib=/usr/src/local/zlib-1.2.11 \\--with-openssl=/usr/src/local/openssl-1.1.1 makemake install â€“with-pcre=/usr/src/local/pcre-8.42 æŒ‡çš„æ˜¯pcre-8.42 çš„æºç è·¯å¾„ã€‚â€“with-zlib=/usr/src/local/zlib-1.2.11 æŒ‡çš„æ˜¯zlib-1.2.11 çš„æºç è·¯å¾„ã€‚ å®‰è£…å®Œæˆå®‰è£…æˆåŠŸå /usr/local/nginx ç›®å½•ä¸‹å¦‚ä¸‹123456789101112131415161718192021222324drwx------ 2 nobody root 4096 Nov 2 10:16 client_body_temp-rw-r--r-- 1 root root 1034 Nov 1 18:43 fastcgi.conf-rw-r--r-- 1 root root 1034 Nov 1 18:43 fastcgi.conf.default-rw-r--r-- 1 root root 964 Nov 1 18:43 fastcgi_params-rw-r--r-- 1 root root 964 Nov 1 18:43 fastcgi_params.defaultdrwx------ 2 nobody root 4096 Nov 2 10:16 fastcgi_tempdrwxr-xr-x 2 root root 4096 Nov 2 11:11 html-rw-r--r-- 1 root root 2837 Nov 1 18:43 koi-utf-rw-r--r-- 1 root root 2223 Nov 1 18:43 koi-windrwxr-xr-x 2 root root 4096 Nov 2 10:16 logs-rw-r--r-- 1 root root 3463 Nov 1 18:43 mime.types-rw-r--r-- 1 root root 3463 Nov 1 18:43 mime.types.default-rwxr-xr-x 1 root root 7177456 Nov 1 18:43 nginx-rw-r--r-- 1 root root 3937 Nov 13 16:14 nginx.conf-rw-r--r-- 1 root root 2685 Nov 1 18:43 nginx.conf.default-rw-r--r-- 1 root root 5 Nov 12 10:02 nginx.piddrwx------ 12 nobody root 4096 Nov 13 15:29 proxy_temp-rw-r--r-- 1 root root 596 Nov 1 18:43 scgi_params-rw-r--r-- 1 root root 596 Nov 1 18:43 scgi_params.defaultdrwx------ 2 nobody root 4096 Nov 2 10:16 scgi_temp-rw-r--r-- 1 root root 623 Nov 1 18:43 uwsgi_params-rw-r--r-- 1 root root 623 Nov 1 18:43 uwsgi_params.defaultdrwx------ 2 nobody root 4096 Nov 2 10:16 uwsgi_temp-rw-r--r-- 1 root root 3610 Nov 1 18:43 win-utf å¯åŠ¨12cd /usr/local/nginx/./nginx ç°åœ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥æ­¤æœºå™¨IPå³å¯çœ‹åˆ° Welcome To Nginx å®‰è£…æˆåŠŸï¼ å°†nginxåŠ å…¥å¯æ‰§è¡Œç¨‹åºç›®å½•ç«Ÿç„¶æ¯æ¬¡æ“ä½œnginxéƒ½è¦è¿›å…¥/usr/local/nginx/å¥½éº»çƒ¦æœ‰æœ¨æœ‰æ²¡å…³ç³» è½¯é“¾æ¥æ¥å¸®ä½ /usr/local/binç›®å½•æ˜¯ç»™ç”¨æˆ·æ”¾ç½®è‡ªå·±çš„å¯æ‰§è¡Œç¨‹åºçš„åœ°æ–¹,æˆ‘ä»¬åªéœ€åœ¨è¿™é‡Œå»ºç«‹nginxçš„è½¯é“¾æ¥å³å¯å…¨å±€æ‰§è¡Œnginx 1ln -s /usr/local/nginx/nginx /usr/local/bin/nginx å¤§åŠŸå‘Šæˆï¼ è®¾ç½®nginxå¼€æœºè‡ªå¯åŠ¨æ¯æ¬¡å¼€æœºæˆ‘ä»¬éƒ½è¦å¯åŠ¨nginxï¼ŒåŒæ ·å·¨éº»çƒ¦ï¼Œæ‰€ä»¥å¯ä»¥å†™ä¸€ä¸ªè‡ªå¯åŠ¨è„šæœ¬ï¼Œä½¿å…¶å¼€æœºè‡ªå¯åŠ¨ï¼Œå²‚ä¸ç¾æ»‹æ»‹12cd /etc/rc.d/init.dvim nginxserver è¿™æ˜¯nginxå®˜ç½‘ä¸Šçš„è‡ªå¯è„šæœ¬ï¼Œå°†è¿™äº›ç²˜è´´è¿›nginxserver 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131#!/bin/sh## nginx - this script starts and stops the nginx daemon## chkconfig: - 85 15# description: NGINX is an HTTP(S) server, HTTP(S) reverse \\# proxy and IMAP/POP3 proxy server# processname: nginx# config: /etc/nginx/nginx.conf# config: /etc/sysconfig/nginx# pidfile: /var/run/nginx.pid# Source function library.. /etc/rc.d/init.d/functions# Source networking configuration.. /etc/sysconfig/network# Check that networking is up.[ \"$NETWORKING\" = \"no\" ] &amp;&amp; exit 0nginx=\"/usr/local/nginx/nginx\"prog=$(basename $nginx)NGINX_CONF_FILE=\"/usr/local/nginx/nginx.conf\"[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginxlockfile=/var/lock/subsys/nginxmake_dirs() &#123; # make required directories user=`$nginx -V 2&gt;&amp;1 | grep \"configure arguments:.*--user=\" | sed 's/[^*]*--user=\\([^ ]*\\).*/\\1/g' -` if [ -n \"$user\" ]; then if [ -z \"`grep $user /etc/passwd`\" ]; then useradd -M -s /bin/nologin $user fi options=`$nginx -V 2&gt;&amp;1 | grep 'configure arguments:'` for opt in $options; do if [ `echo $opt | grep '.*-temp-path'` ]; then value=`echo $opt | cut -d \"=\" -f 2` if [ ! -d \"$value\" ]; then # echo \"creating\" $value mkdir -p $value &amp;&amp; chown -R $user $value fi fi done fi&#125;start() &#123; [ -x $nginx ] || exit 5 [ -f $NGINX_CONF_FILE ] || exit 6 make_dirs echo -n $\"Starting $prog: \" daemon $nginx -c $NGINX_CONF_FILE retval=$? echo [ $retval -eq 0 ] &amp;&amp; touch $lockfile return $retval&#125;stop() &#123; echo -n $\"Stopping $prog: \" killproc $prog -QUIT retval=$? echo [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile return $retval&#125;restart() &#123; configtest || return $? stop sleep 1 start&#125;reload() &#123; configtest || return $? echo -n $\"Reloading $prog: \" killproc $nginx -HUP RETVAL=$? echo&#125;force_reload() &#123; restart&#125;configtest() &#123; $nginx -t -c $NGINX_CONF_FILE&#125;rh_status() &#123; status $prog&#125;rh_status_q() &#123; rh_status &gt;/dev/null 2&gt;&amp;1&#125;case \"$1\" in start) rh_status_q &amp;&amp; exit 0 $1 ;; stop) rh_status_q || exit 0 $1 ;; restart|configtest) $1 ;; reload) rh_status_q || exit 7 $1 ;; force-reload) force_reload ;; status) rh_status ;; condrestart|try-restart) rh_status_q || exit 0 ;; *) echo $\"Usage: $0 &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;\" exit 2esac :wqä¿å­˜é€€å‡º å¢åŠ è„šæœ¬çš„å¯æ‰§è¡Œæƒé™ 1chmod +x /etc/rc.d/init.d/nginxserver æ·»åŠ è„šæœ¬åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨é¡¹ç›®ä¸­ 123cd /etc/rc.d/init.dchkconfig --add nginxserverchkconfig nginxserver on å®Œäº‹ï¼","tags":[{"name":"centos","slug":"centos","permalink":"http://yoursite.com/tags/centos/"},{"name":"nginx","slug":"nginx","permalink":"http://yoursite.com/tags/nginx/"}]}]